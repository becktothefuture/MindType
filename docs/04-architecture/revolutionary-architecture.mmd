%%{init: {'theme': 'base', 'themeVariables': {'primaryColor': '#e3f2fd', 'primaryTextColor': '#0d47a1', 'primaryBorderColor': '#1976d2', 'lineColor': '#424242', 'secondaryColor': '#f3e5f5', 'tertiaryColor': '#e8f5e8', 'background': '#fafafa', 'mainBkg': '#ffffff', 'secondBkg': '#f5f5f5', 'tertiaryBkg': '#eeeeee'}}}%%
%% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
%% ğŸš€ MINDTYPE REVOLUTIONARY ARCHITECTURE - CORRECTION MARKER & SEVEN SCENARIOS
%% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
%% 
%% PURPOSE: Revolutionary cognitive augmentation architecture enabling thought-speed typing
%% SCOPE: Correction Marker system with Burst-Pause-Correct methodology
%% VISION: Transform typing from mechanical skill to fluid expression of thought
%% 
%% REVOLUTIONARY FEATURES:
%% ğŸ† Correction Marker (Listening Mode â†’ Correction Mode)
%% âš¡ Burst-Pause-Correct Engine (Muscle Memory Training)
%% ğŸ§  Seven Usage Scenarios (Academic to Speed Mastery)
%% ğŸ¯ Thought-Speed Typing (Cognitive Augmentation)
%% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

graph TB
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ğŸ¯ USER EXPERIENCE LAYER - SEVEN REVOLUTIONARY SCENARIOS
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    subgraph SCENARIOS ["ğŸŒŸ **SEVEN REVOLUTIONARY SCENARIOS**<br/>ğŸ¯ Cognitive Augmentation Across Life Contexts"]
        direction TB
        
        subgraph ACADEMIC ["ğŸ“š **ACADEMIC EXCELLENCE**<br/>Maya - PhD with Dyslexia"]
            MAYA[("ğŸ‘©â€ğŸ“ **Maya**<br/>50% faster academic writing<br/>Scientific terminology<br/>Privacy-first research")]
        end
        
        subgraph MULTILINGUAL ["ğŸŒ **MULTILINGUAL MASTERY**<br/>Carlos - Business Analyst"]
            CARLOS[("ğŸ‘¨â€ğŸ’¼ **Carlos**<br/>40% faster documents<br/>Cross-language detection<br/>Professional credibility")]
        end
        
        subgraph ACCESSIBILITY ["â™¿ **ACCESSIBILITY CHAMPION**<br/>Dr. Chen - Visually Impaired"]
            CHEN[("ğŸ‘©â€âš•ï¸ **Dr. Chen**<br/>60% fewer interruptions<br/>Silent corrections<br/>Screen reader optimized")]
        end
        
        subgraph CREATIVE ["âœï¸ **CREATIVE FLOW**<br/>James - Novelist"]
            JAMES[("ğŸ‘¨â€ğŸ¨ **James**<br/>35% more words daily<br/>Stream-of-consciousness<br/>Voice preservation")]
        end
        
        subgraph PROFESSIONAL ["ğŸ’¼ **PROFESSIONAL POLISH**<br/>Emma - Working Parent"]
            EMMA[("ğŸ‘©â€ğŸ’» **Emma**<br/>90% professional tone<br/>Invisible enhancement<br/>Stolen moment typing")]
        end
        
        subgraph SPEED ["ğŸï¸ **SPEED DEMON**<br/>Marcus - Ex-Stenographer"]
            MARCUS[("âš¡ **Marcus**<br/>180+ WPM achieved<br/>Velocity Mode activated<br/>Thought-speed typing")]
        end
        
        subgraph DATA ["ğŸ“Š **DATA WHISPERER**<br/>Priya - Quantitative Analyst"]
            PRIYA[("ğŸ“ˆ **Priya**<br/>5Ã— faster data entry<br/>Custom dialect support<br/>Analytical flow preserved")]
        end
    end
    
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ğŸ† CORRECTION MARKER SYSTEM - THE REVOLUTIONARY VISUAL CORE
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    subgraph MARKER_SYSTEM ["ğŸ† **CORRECTION MARKER SYSTEM**<br/>ğŸ§  Revolutionary Visual Intelligence"]
        direction TB
        
        subgraph LISTENING ["ğŸŸ¢ **LISTENING MODE**<br/>â ‚ â†’ â „ â†’ â † â†’ â   â†’ â ¢ â†’ â ¤ â†’ â ¦ â†’ â ° â†’ â ² â†’ â ´ â†’ â ¶"]
            PULSE_ANIMATION["**ğŸµ Hypnotic Pulse**<br/>200ms per symbol<br/>2.4s complete cycle<br/>Holds at last position"]
            BURST_DETECTION["**âš¡ Burst Detection**<br/>Rapid typing >60 WPM<br/>Marker holds position<br/>Visual listening feedback"]
        end
        
        subgraph CORRECTION ["ğŸ”´ **CORRECTION MODE**<br/>ğŸš€ Intelligent Worker Travels"]
            PAUSE_TRIGGER["**â¸ï¸ Pause Trigger**<br/>500ms pause detected<br/>Mode transition begins<br/>Marker accelerates"]
            TRAVEL_ANIMATION["**ğŸŒŠ Whoosh Effect**<br/>Speed adaptation:<br/>â€¢ Noise: 50ms/word<br/>â€¢ Context: 150ms/word<br/>â€¢ Tone: 300ms/word"]
            PROCESSING_INDICATORS["**ğŸ¯ Processing Indicators**<br/>â â ‚â „â ˆ Noise patterns<br/>â ƒâ †â Œ Context patterns<br/>â ·â ¿â · Tone patterns"]
        end
        
        BURST_PAUSE_ENGINE["**âš¡ BURST-PAUSE-CORRECT ENGINE**<br/>ğŸ§  Muscle Memory Training<br/>ğŸ”„ Natural Rhythm Development"]
    end
    
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ğŸ§  COGNITIVE PROCESSING PIPELINE - THREE-STAGE INTELLIGENCE
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    subgraph PIPELINE ["ğŸ§  **COGNITIVE PROCESSING PIPELINE**<br/>âš¡ Three-Stage Transformer Architecture"]
        direction TB
        
        subgraph STAGE1 ["**STAGE 1: NOISE TRANSFORMER**<br/>âš¡ Sub-millisecond Typo Fixes"]
            NOISE_RULES["**ğŸ“ Pattern Matching**<br/>â€¢ 'teh' â†’ 'the'<br/>â€¢ 'recieve' â†’ 'receive'<br/>â€¢ Transposition fixes"]
            NOISE_CONFIDENCE["**ğŸ¯ Confidence: 0.95+**<br/>Immediate application<br/>No hesitation needed"]
        end
        
        subgraph STAGE2 ["**STAGE 2: CONTEXT TRANSFORMER**<br/>ğŸ§  LM-Powered Grammar & Flow"]
            CONTEXT_WINDOW["**ğŸ“– Context Analysis**<br/>Â±2 sentences window<br/>S-1 weight: 1.0<br/>S-2 weight: 0.5"]
            LM_PROCESSING["**ğŸ¤– Language Model**<br/>English-only processing<br/>Qwen2.5-0.5B-Instruct<br/>WebGPU/WASM/CPU tiers"]
        end
        
        subgraph STAGE3 ["**STAGE 3: TONE TRANSFORMER**<br/>ğŸ¨ Optional Style Adjustment"]
            TONE_DETECTION["**ğŸ­ Baseline Detection**<br/>Current tone analysis<br/>User preference respect"]
            TONE_OPTIONS["**ğŸšï¸ Tone Modes**<br/>â€¢ None (default)<br/>â€¢ Casual<br/>â€¢ Professional"]
        end
    end
    
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ğŸ›¡ï¸ SAFETY & PERFORMANCE LAYER - DEVICE-TIER OPTIMIZATION
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    subgraph SAFETY_PERFORMANCE ["ğŸ›¡ï¸ **SAFETY & PERFORMANCE LAYER**<br/>âš–ï¸ Caret-Safe + Device-Tier Optimization"]
        direction TB
        
        subgraph CARET_SAFETY ["**ğŸ›¡ï¸ CARET-SAFE GUARANTEE**<br/>Absolute Protection"]
            ACTIVE_REGION["**ğŸ“ Active Region**<br/>20 words behind caret<br/>Never at/after cursor<br/>Safety validation"]
            ROLLBACK_SYSTEM["**â†©ï¸ Instant Rollback**<br/>If cursor enters region<br/>Cancel corrections<br/>Preserve user intent"]
        end
        
        subgraph DEVICE_TIERS ["**âš¡ DEVICE-TIER OPTIMIZATION**<br/>Adaptive Performance"]
            WEBGPU_TIER["**ğŸš€ WebGPU Tier**<br/>15ms latency<br/>48 token limit<br/>60 FPS marker"]
            WASM_TIER["**âš™ï¸ WASM Tier**<br/>25ms latency<br/>24 token limit<br/>30 FPS marker"]
            CPU_TIER["**ğŸŒ CPU Tier**<br/>30ms latency<br/>16 token limit<br/>15 FPS marker"]
        end
        
        subgraph PRIVACY ["**ğŸ”’ PRIVACY-FIRST ARCHITECTURE**<br/>On-Device by Default"]
            LOCAL_PROCESSING["**ğŸ’» Local Processing**<br/>WebGPU/WASM models<br/>No text leaves device<br/>Secure field detection"]
            OPTIONAL_REMOTE["**ğŸ” Optional Remote**<br/>Explicit per-session opt-in<br/>Encrypted transport<br/>No data retention"]
        end
    end
    
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ğŸ¨ VISUAL FEEDBACK SYSTEM - USER EXPERIENCE
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    subgraph VISUAL_SYSTEM ["ğŸ¨ **VISUAL FEEDBACK SYSTEM**<br/>âœ¨ Revolutionary User Experience"]
        direction TB
        
        WAKE_EFFECT["**ğŸŒŠ Wake Effect**<br/>Corrected words highlight<br/>85% opacity fade<br/>Trail behind marker"]
        
        ACCESSIBILITY_LAYER["**â™¿ ACCESSIBILITY LAYER**<br/>WCAG 2.2 AA Compliance<br/>â€¢ Screen reader: 'text updated behind cursor'<br/>â€¢ High contrast markers<br/>â€¢ Reduced motion support<br/>â€¢ Keyboard-only operation"]
        
        VISUAL_CUSTOMIZATION["**ğŸ¨ Visual Customization**<br/>â€¢ Marker size: 12px-24px<br/>â€¢ Color-blind friendly<br/>â€¢ Custom braille patterns<br/>â€¢ Animation preferences"]
    end
    
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ğŸ”„ REVOLUTIONARY DATA FLOW CONNECTIONS
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    %% Scenarios to Marker System
    SCENARIOS ==>|"**User Types**<br/>Burst or Pause"| MARKER_SYSTEM
    
    %% Marker System to Processing
    LISTENING ==>|"**Burst Detected**<br/>Hold & Listen"| BURST_PAUSE_ENGINE
    CORRECTION ==>|"**Pause Detected**<br/>Travel & Correct"| PIPELINE
    
    %% Processing Pipeline Flow
    STAGE1 --> STAGE2
    STAGE2 --> STAGE3
    PIPELINE --> SAFETY_PERFORMANCE
    
    %% Safety to Visual
    SAFETY_PERFORMANCE --> VISUAL_SYSTEM
    
    %% Visual back to Scenarios
    VISUAL_SYSTEM ==>|"**Enhanced Experience**<br/>Thought-Speed Typing"| SCENARIOS
    
    %% Internal Marker System Flow
    BURST_DETECTION --> PAUSE_TRIGGER
    PAUSE_TRIGGER --> TRAVEL_ANIMATION
    TRAVEL_ANIMATION --> PROCESSING_INDICATORS
    
    %% Safety System Flow
    ACTIVE_REGION --> ROLLBACK_SYSTEM
    DEVICE_TIERS --> PRIVACY
    
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ğŸ¨ REVOLUTIONARY VISUAL STYLING
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    %% Scenario Colors (Revolutionary Purple Gradient)
    classDef scenario fill:#e1bee7,stroke:#8e24aa,stroke-width:3px,color:#4a148c
    
    %% Correction Marker (Revolutionary Gold)
    classDef marker fill:#fff8e1,stroke:#ff8f00,stroke-width:4px,color:#e65100
    
    %% Processing Pipeline (Revolutionary Blue)
    classDef pipeline fill:#e3f2fd,stroke:#1976d2,stroke-width:3px,color:#0d47a1
    
    %% Safety & Performance (Revolutionary Green)
    classDef safety fill:#e8f5e8,stroke:#388e3c,stroke-width:3px,color:#1b5e20
    
    %% Visual System (Revolutionary Cyan)
    classDef visual fill:#e0f2f1,stroke:#00796b,stroke-width:3px,color:#004d40
    
    %% Apply Revolutionary Styling
    class SCENARIOS,ACADEMIC,MULTILINGUAL,ACCESSIBILITY,CREATIVE,PROFESSIONAL,SPEED,DATA scenario
    class MARKER_SYSTEM,LISTENING,CORRECTION,BURST_PAUSE_ENGINE marker
    class PIPELINE,STAGE1,STAGE2,STAGE3 pipeline
    class SAFETY_PERFORMANCE,CARET_SAFETY,DEVICE_TIERS,PRIVACY safety
    class VISUAL_SYSTEM visual
    
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% ğŸ“š REVOLUTIONARY DOCUMENTATION REFERENCES
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    %% 
    %% CORE REVOLUTIONARY DOCUMENTS:
    %% â€¢ docs/01-prd/01-PRD.md - Seven Scenarios & Correction Marker specs
    %% â€¢ docs/02-implementation/02-Implementation.md - 3-phase development plan
    %% â€¢ docs/03-system-principles/03-System-Principles.md - Revolutionary principles
    %% 
    %% ARCHITECTURE EVOLUTION:
    %% â€¢ This diagram represents the revolutionary vision (v0.6+)
    %% â€¢ Previous architecture.mmd represents legacy dual TS/Rust approach
    %% â€¢ Migration path: Enhance existing components toward revolutionary capabilities
    %% â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
